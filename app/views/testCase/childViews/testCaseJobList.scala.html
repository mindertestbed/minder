@(tc: TestCase, selectedTdl: Tdl)
  @import java.util.concurrent.atomic.AtomicInteger
  @import views.html.util._
  @import global.Util._
  @import authentication._


  <!-- Display the list of Jobs assigned to this test case-->
  <br />
  @defining(Job.findByTdl(selectedTdl)) { jobs =>
    @if(jobs.size() == 0) {
      <p>No jobs defined yet</p>
      @subjectHasRole(security.Role.TEST_DESIGNER) {
        @createButton("/getCreateJobEditorView?tdlID=" + selectedTdl.id, Messages("restrictedTestPage.createJob"))
      }
    } else {
      @defining(new AtomicInteger(1)) { index =>
        <table class="shaded">
          @createFirstRow {
            <th>Job Name</th>
            <th>Short Description</th>
            <th>Author</th>
          }
          @for( job <- jobs) {
            <tr>
              <td>@index.getAndIncrement()</td> <td><a href="/viewJob?id=@job.id&showHistory=true">@job.name</a></td> <td>SHORT Description</td>
              <td>@job.owner.email</td>
              @subjectIs(job.owner) {
                <td align="center">
                  <div title="Delete" class="bevel2 celldiv" style="height:30px ; width:30px ;"
                  onclick='deleteWithDialog2("/doDeleteJob?id=@job.id", $("#dialog-confirm"), "Delete Job", "job", "@job.name")'
                  >
                    <img src="@routes.Assets.versioned("/images/trash2-64.png")" height="16px" alt='@job.id'/>
                  </div>
                </td>
              }
            </tr>
          }
          @subjectHasRole(security.Role.TEST_DESIGNER) {
            @createLastRow(3) {
              @createButton("/getCreateJobEditorView?tdlID=" + selectedTdl.id, Messages("restrictedTestPage.createJob"))

            }
          }
        </table>
      }
    }
  }
