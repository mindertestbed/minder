@(ts: TestSuite, display: String = "details")
@import java.util.concurrent.atomic.AtomicInteger
@import global.Util._;
@import views.html.util._

@main(Messages("minder.navigation.restricted.testdesigner"), "testGroups",
  Array(("Test Groups", controllers.routes.Application.testGroups().path()),
    (ts.testGroup.name, controllers.routes.GroupController.getGroupDetailView(ts.testGroup.id, "suites").path()),
    (ts.name, controllers.routes.TestSuiteController.getTestSuiteDetailView(ts.id, "details")))) {

  @dialogs()

  <div class="padabit">
    <script>
        $(function(){
          bindValues($("#name@{ts.id}"))
        });

        function showDetails() {
          ajaxRouteGet(jsRoutes.controllers.TestSuiteController.renderDetailView, @ts.id)
        }

        function showRuns(){
          ajaxRouteGet(jsRoutes.controllers.TestSuiteController.renderTestRunListView, @ts.id)
        }
    </script>

    <h2>@Messages("testSuite.TestSuite")
      <div id="name@{
        ts.id
      }" onclick='showUpdateInputTextDialog(@ts.id, "name", $(this).next(), "/doEditTestSuiteField")' class="hl editable"></div>
      <input type="hidden" value="@ts.name"/>
    </h2>

    <div class="indent">

      @ajaxDisplaySelector(display, "details" ->("Details", "showDetails"), "runs" ->("Test Runs", "showRuns"))

      <div class="ajaxContent"></div>

    </div>
  </div>
}
