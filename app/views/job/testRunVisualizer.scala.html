@(testRun: TestRun)
  @import java.util.concurrent.atomic.AtomicInteger
  @import controllers.common.enumeration.TestStatus
  @import views.html.util._

  <script>
    $( document ).tooltip();
</script>

  @if(testRun != null) {
    <label>Status</label>

    @if(TestQueueController.activeRunContext != null && TestQueueController.activeRunContext.testRun == testRun) {
        <!-- this is an active test run -->
      <table class="fullw"><tr><td>
        <div style="border:1px solid gray ; background-color:white ; height:14px ; width:100% ; padding:0">
          <div style="background-color:lightgreen ; height:12px ; width: @{
            TestQueueController.activeRunContext.progressPercent
          } % ; margin:0
          ">&nbsp;</div>
        </div></td></tr></table>
    } else {
      @if(testRun.success) {
        <div class='statusAll testGood'>Good</div>
      } else {
        <div class='statusAll testBad'>Bad</div>
        <pre class="code">@testRun.errorMessage</pre>
        <div id="testCatcher" style="display : none">Test Status: </div>
      }
    }

    <table class="fullw">
      <tr>
        <td class="trigger">&nbsp;</td>
        <td class="tabshrink" align="center" valign="middle">
          @reportMenu(testRun, true)
        </td>
      </tr>
    </table>
  } else {
    No test run specified!
  }
